/** @flow */
import type { IdP } from './idp'
import type { Id, ClientToken, EndpointConfig } from './provider.js.flow'

type RefreshableData = {
  refresh_token?: string,
}

type UnrefreshableData = {
  access_token?: string,
  expires_in?: number,
  expires_time?: number,
}

export type TokenData = UnrefreshableData & RefreshableData

export type CallableP<T> = () => T

export type AccountConfig = {
  id: string | null,
  leeway: number,
  myAccountId: Id,
  provider: IdP<EndpointConfig>,
  retries: number,
  retryDelay: number,
}

export type SignInOptions = {
  auth_key: string,
  params: ClientToken,
  refresh_token: ?string,
}
